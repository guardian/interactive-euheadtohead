<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style>
            @font-face {
                font-family: "Guardian Egyptian Web";
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.eot");
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.eot?#iefix") format("embedded-opentype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.woff2") format("woff2"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.woff") format("woff"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.ttf") format("truetype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Regular.svg#GuardianEgyptianWeb-Regular") format("svg");
                font-weight: 400;
                font-style: normal;
                font-stretch: normal; 
            }  
            @font-face {
                font-family: "Guardian Egyptian Web";
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.eot");
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.eot?#iefix") format("embedded-opentype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.woff2") format("woff2"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.woff") format("woff"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.ttf") format("truetype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianEgyptianWeb/GuardianEgyptianWeb-Semibold.svg#GuardianEgyptianWeb-Semibold") format("svg");
                font-weight: 600;
                font-style: normal;
                font-stretch: normal; 
            }
            @font-face {
                font-family: "Guardian Text Sans Web";
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.eot");
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.eot?#iefix") format("embedded-opentype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.woff2") format("woff2"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.woff") format("woff"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.ttf") format("truetype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Regular.svg#GuardianTextSansWeb-Regular") format("svg");
                font-weight: normal/*400;*/
                font-style: normal;
                font-stretch: normal; 
            }
            @font-face {
                font-family: "Guardian Text Sans Web";
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.eot");
                src: url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.eot?#iefix") format("embedded-opentype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.woff2") format("woff2"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.woff") format("woff"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.ttf") format("truetype"), url("https://interactive.guim.co.uk/fonts/guss-webfonts/GuardianTextSansWeb/GuardianTextSansWeb-Bold.svg#GuardianTextSansWeb-Bold") format("svg");
                font-weight: 700;
                font-style: normal;
                font-stretch: normal; 
            }
            html { -webkit-font-smoothing: antialiased; }
            /* for iOS safari mobile */
            body { -webkit-text-size-adjust: 100%; }
            /* for all but IE */
            path { vector-effect: non-scaling-stroke; }
            .d-n { display: none; }
        </style>
        <script src="https://interactive.guim.co.uk/libs/iframe-messenger/iframeMessenger.js"></script>
    </head>
    <body>
<div class="js-graph" style="color: rgb(118, 118, 118); font-family: 'Guardian Text Sans Web', 'Helvetica Neue', Helvetica, Arial, 'Lucida Grande', sans-serif; font-size: 13px; width: auto;" data-label-width="0" id="line">
    <header>
        <div style="color: black; font-family: 'Guardian Egyptian Web', Georgia, serif; font-weight: 600; font-size: 18px; line-height: 24px; margin-bottom: 12px;"><span>Exports to Asia are growing faster</span></div>
        <div style="font-size: 14px; line-height: 20px; margin-top: 12px; margin-bottom: 16px;"><span>1996 = 1&nbsp;</span></div>
        <div class="js-keys" style="line-height: 18px;"><div style="white-space: nowrap; display: inline-block; margin-right: 12px;"><span style="display: inline-block; width: 7px; height: 11px; margin-right: 4px; border-radius: 2px; background-color: rgb(0, 87, 137);"></span><span>European Community</span></div><div style="white-space: nowrap; display: inline-block; margin-right: 12px;"><span style="display: inline-block; width: 7px; height: 11px; margin-right: 4px; border-radius: 2px; background-color: rgb(234, 105, 17);"></span><span>Asia and Oceania</span></div></div>
    </header>
    <div style="position: relative; width: 100%; padding-bottom: 56%; margin-bottom: 60px;"><div style="position: absolute; left: 0px; width: 100%; height: 100%; margin-top: 24px;"><div style="color: rgb(189, 189, 189); font-size: 12px; line-height: 18px; position: absolute; width: 100%; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(223, 223, 223); top: calc(100% - 18px);"><span>0.5</span></div><div style="color: rgb(189, 189, 189); font-size: 12px; line-height: 18px; position: absolute; width: 100%; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(223, 223, 223); top: calc(75% - 18px);"><span>  1</span></div><div style="color: rgb(189, 189, 189); font-size: 12px; line-height: 18px; position: absolute; width: 100%; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(223, 223, 223); top: calc(50% - 18px);"><span>  1.5</span></div><div style="color: rgb(189, 189, 189); font-size: 12px; line-height: 18px; position: absolute; width: 100%; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(223, 223, 223); top: calc(25% - 18px);"><span>  2</span></div><div style="color: rgb(189, 189, 189); font-size: 12px; line-height: 18px; position: absolute; width: 100%; border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(223, 223, 223); top: calc(0% - 18px);"><span>  2.5</span></div></div><svg viewBox="0 0 300 180" preserveAspectRatio="none" style="position: absolute; width: calc(100% - 36px); height: 100%; padding-top: 24px; padding-left: 36px; padding-bottom: 1px; pointer-events: none;"><path stroke="#005789" stroke-width="2" fill="none" d="M0 135L16.61 133.45L33.23 133.97L49.84 131.52L66.46 122.43L83.07 118.75L99.68 119.06L116.3 123.26L132.91 119.72L149.53 108.4L166.14 77.42L182.75 101.75L199.37 88.42L215.98 104.39L232.6 87.82L249.21 72.04L265.82 80.16L282.44 79.71L299.05 83.16"></path><path stroke="#ea6911" stroke-width="2" fill="none" d="M0 135L16.61 134.36L33.23 156.32L49.84 154.31L66.46 142.72L83.07 144.41L99.68 148.89L116.3 140.35L132.91 136.98L149.53 125.45L166.14 124.42L182.75 116.71L199.37 92.97L215.98 110.3L232.6 78.16L249.21 46.33L265.82 31.82L282.44 6.59L299.05 15.56"></path></svg><div style="position: absolute; height: 100%; width: calc(100% - 36px); margin-left: 36px; padding-top: 24px;"><div style="width: 1px; height: 6px; position: absolute; bottom: -6px; left: 0%; background-color: rgb(189, 189, 189);"></div><div style="width: 1px; height: 6px; position: absolute; bottom: -6px; left: 22.2222%; background-color: rgb(189, 189, 189);"></div><div style="width: 1px; height: 6px; position: absolute; bottom: -6px; left: 44.4444%; background-color: rgb(189, 189, 189);"></div><div style="width: 1px; height: 6px; position: absolute; bottom: -6px; left: 66.6667%; background-color: rgb(189, 189, 189);"></div><div style="width: 1px; height: 6px; position: absolute; bottom: -6px; left: 88.8889%; background-color: rgb(189, 189, 189);"></div><div style="height: 24px; color: rgb(189, 189, 189); position: absolute; bottom: -32px; font-size: 12px; width: 20%; left: -10%; text-align: center;"><span>1996</span></div><div style="height: 24px; color: rgb(189, 189, 189); position: absolute; bottom: -32px; font-size: 12px; width: 20%; left: 12.2222%; text-align: center;"><span>2000</span></div><div style="height: 24px; color: rgb(189, 189, 189); position: absolute; bottom: -32px; font-size: 12px; width: 20%; left: 34.4444%; text-align: center;"><span>2004</span></div><div style="height: 24px; color: rgb(189, 189, 189); position: absolute; bottom: -32px; font-size: 12px; width: 20%; left: 56.6667%; text-align: center;"><span>2008</span></div><div style="height: 24px; color: rgb(189, 189, 189); position: absolute; bottom: -32px; font-size: 12px; width: 20%; left: 78.8889%; text-align: center;"><span>2012</span></div></div></div>
    <footer style="font-size: 12px; line-height: 16px; margin-top: 8px; padding-top: 8px; border-top: 1px dotted #bdbdbd;">
        <div style="word-break: break-word">
            <span>Guardian graphic | Source: HM Treasury</span>  
        </div>
        <!-- TODO: add ..  -->
    </footer>
    <div style="visibility: hidden;"><span class="js-test" style="font-size: 14px"></span></div>
</div><script>
    function debounce(func, wait, immediate) {
        var timeout;
        return function() {
            var context = this; 
            var args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    }; 

    function getWindowWidth() {
        var w = window,
            d = document,
            e = d.documentElement,
            g = d.getElementsByTagName('body')[0],
            x = w.innerWidth || e.clientWidth || g.clientWidth  || w.outerWidth;
        //y = w.innerHeight|| e.clientHeight|| g.clientHeight || w.outerHeight;
        // NOTE: outer is for android app

        return x;
    }

    function resetStrokeWidth() {
        var strokeWidth = 2*300/getWindowWidth() + "px";
        
        var paths = Array.prototype.slice.call(document.querySelectorAll("path"));
        paths.forEach(function(path) { path.setAttribute("stroke-width", strokeWidth); });
    }

    // handle event
    var isIE = (/*@cc_on!@*/false || !!document.documentMode);
    var onResize = debounce(function() {
        iframeMessenger.resize();
        if (isIE) { resetStrokeWidth(); }
    }, 250);
    window.addEventListener('resize', onResize);
    onResize();

    // iOS width
    //var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
    //if (iOS) { document.querySelector(".js-graph").style.width = "calc(100% - 15px)";}    
</script>
</body>
</html>
